[{"path":"https://nshi-stat.github.io/surrosurvo/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kengo Nagashima. Author, maintainer. Jun Okui. Author.","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Okui J, Nagashima K, Matsuda S, Sato Y, Kawakubo H, Ruhstaller T, Thuss-Patience P, Nilsson M, Klevebro F, Tan L, Zhang S, Aparicio T, Piessen G, van der Zijden C, Mostert B, Wijnhoven BPL, Tsushima T, Takeuchi H, Kato K, Kitagawa Y (2025). “Evaluation pathological complete response surrogate endpoint overall survival resectable oesophageal cancer: integrated analysis individual patient data phase III trials.” British Journal Surgery, 112(6), znaf131. https://doi.org/10.1093/bjs/znaf131. Nagashima K, Okui J (2025). surrosurvo: Evaluation Individual-Level Surrogacy Survival Ordinal, Continuous, Survival Endpoints Data Ties. R package version 2.0.0, https://nshi-stat.github.io/surrosurvo/.","code":"@Article{,   title = {Evaluation of pathological complete response as a surrogate endpoint for overall survival in resectable oesophageal cancer: integrated analysis of individual patient data from phase III trials},   author = {Jun Okui and Kengo Nagashima and Satoru Matsuda and Yasunori Sato and Hirofumi Kawakubo and Thomas Ruhstaller and Peter Thuss-Patience and Magnus Nilsson and Fredrik Klevebro and Lijie Tan and Shaoyuan Zhang and Thomas Aparicio and Guillaume Piessen and Charlène {van der Zijden} and Bianca Mostert and Bas P L Wijnhoven and Takahiro Tsushima and Hiroya Takeuchi and Ken Kato and Yuko Kitagawa},   journal = {British Journal of Surgery},   year = {2025},   volume = {112},   number = {6},   pages = {znaf131},   url = {https://doi.org/10.1093/bjs/znaf131}, } @Manual{,   title = {surrosurvo: Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties},   author = {Kengo Nagashima and Jun Okui},   year = {2025},   note = {R package version 2.0.0},   url = {https://nshi-stat.github.io/surrosurvo/}, }"},{"path":[]},{"path":"https://nshi-stat.github.io/surrosurvo/index.html","id":"evaluation-of-individual-level-surrogacy-for-survival-and-ordinal-continuous-or-survival-endpoints-in-data-with-ties","dir":"","previous_headings":"","what":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties","text":"implementation Kendall’s rank correlation coefficient survival ordinal, continuous, survival endpoints data ties: Oakes D. model association bivariate survival data. Journal Royal Statistical Society: Series B (Methodological) 1982; 44(3): 414–422. doi:10.1111/j.2517-6161.1982.tb01222.x. Lakhal L, Rivest L-P, Beaudoin D. IPCW estimator Kendall’s tau bivariate censoring. International Journal Biostatistics 2009; 5(1): Article 8. doi:10.2202/1557-4679.1121. Okui J, Nagashima K, Matsuda S, Sato Y, Kawakubo H, Ruhstaller T, Thuss-Patience P, Nilsson M, Klevebro F, Tan L, Zhang S, Aparicio T, Piessen G, van der Zijden C, Mostert B, Wijnhoven BPL, Tsushima T, Takeuchi H, Kato K, Kitagawa Y. Evaluation pathological complete response surrogate endpoint overall survival resectable oesophageal cancer: integrated analysis individual patient data phase III trials. British Journal Surgery 2025; 112(6): znaf131. doi:10.1093/bjs/znaf131. URL: https://nshi-stat.github.io/surrosurvo/ GitHub: https://github.com/nshi-stat/surrosurvo/","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties","text":"","code":"# The development version from GitHub: # install.packages(\"devtools\") devtools::install_github(\"nshi-stat/surrosurvo\")  # From CRAN (will be released): # install.packages(\"surrosurvo\")"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_rv.html","id":null,"dir":"Reference","previous_headings":"","what":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","title":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","text":"function generates random number vectors correlated survival ordinal outcomes. Gaussian Clayton copula used specify correlation structure. Marginal distributions based exponential distribution. order outcome generated discretizing one correlated random numbers based quantile.","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_rv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","text":"","code":"generate_rv(   target_tau,   num_samples,   censoring_rate,   copula_type = c(\"Gaussian\", \"Clayton\"),   x_levels = 5,   x_probs = c(\"equal\", \"random\"),   x_values = NULL,   hr = 1 )"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_rv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","text":"target_tau target value Kendall's \\(\\tau\\) num_samples number simulation samples censoring_rate censoring rate copula_type copula type (default = \"Gaussian\") Gaussian: Gaussian copula Clayton: Clayton copula x_levels number category ordinal outcome (default = 5) x_probs proportion level x (default = \"equal\") equal: equal sample sizes random: random sample sizes x_values cutoff values x. x_values specified, x_probs ignored. x_levels - 1 lengths x_levels must equal. hr hazard rate survival time (default = 1.0)","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_rv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","text":"y: survival time censoring time outcome vector event: event indicator outcome vector x: ordinal (continuous) outcome vector t: true survival time vector (simulation) c: true censoring time vector (simulation) x0: x discretization (simulation)","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_rv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random number generation for Correlated Survival and Ordinal Outcomes — generate_rv","text":"","code":"library(surrosurvo) set.seed(1234) data <- generate_rv(0.7, 500, 0.3) surrosurvo(data$y, data$event, data$x) #>   method       tau         se       lcl       ucl #> 1 taumo1 0.6556501 0.02496919 0.6067114 0.7045888 #> 2 taumo2 0.6563674 0.01726476 0.6225291 0.6902057 #> 3   tauo 0.5042325 0.01834774 0.4682716 0.5401934 #> 4  tauso 0.7317075 0.02600037 0.6807477 0.7826672  # 5-level ordinal variable with Clayton copula data <- generate_rv(0.7, 500, 0.1, copula_type = \"Clayton\", x_levels = 5) surrosurvo(data$y, data$event, data$x) #>   method       tau         se       lcl       ucl #> 1 taumo1 0.6375091 0.01774413 0.6027312 0.6722869 #> 2 taumo2 0.6376534 0.01599582 0.6063021 0.6690046 #> 3   tauo 0.5999920 0.01633828 0.5679696 0.6320144 #> 4  tauso 0.7182260 0.01822755 0.6825006 0.7539513"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_srv.html","id":null,"dir":"Reference","previous_headings":"","what":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","title":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","text":"function generates random number vectors correlated survival survival outcomes. Gaussian Clayton copula used specify correlation structure. Marginal distributions based exponential distribution.","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_srv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","text":"","code":"generate_srv(   target_tau,   num_samples,   censoring_rate,   censoring_ratex = NULL,   censtype = c(\"univariate\", \"independent\"),   copula_type = c(\"Gaussian\", \"Clayton\"),   hr = 1 )"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_srv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","text":"target_tau target value Kendall's \\(\\tau\\) num_samples number simulation samples censoring_rate censoring rate y censoring_ratex censoring rate x censtype type censoring model survival survival   outcomes (default = \"univariate\"; see Lakhal et al. (2009)). univariate: univariate censoring model:   \\(Y = \\min(T, C)\\), \\(X = \\min(T_X, C)\\) independent: independent censoring model:   \\(Y = \\min(T, C)\\), \\(X = \\min(T_X, C_X)\\) copula_type copula type (default = \"Gaussian\") Gaussian: Gaussian copula Clayton: Clayton copula hr hazard rate survival time y (default = 1.0)","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_srv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","text":"y: survival time censoring time outcome vector y event: event indicator outcome vector y x: survival time censoring time outcome vector x eventx: event indicator outcome vector x t: true survival time vector y (simulation) c: true censoring time vector y (simulation) tx: true survival time vector x (simulation) cx: true censoring time vector x (simulation)","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/generate_srv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random number generation for Correlated Survival and Survival Outcomes — generate_srv","text":"","code":"library(surrosurvo) set.seed(1234) data <- generate_srv(0.7, 500, 0.1, 0.1) surrosurvo(data$y, data$event, data$x, data$eventx) #>   method       tau         se       lcl       ucl #> 1 taumo1 0.7166317 0.01611165 0.6850535 0.7482100 #> 2 taumo2 0.7167923 0.01396510 0.6894212 0.7441634 #> 3   tauo 0.6740762 0.01488392 0.6449042 0.7032481 #> 4  tauso 0.7166317 0.01611165 0.6850535 0.7482100"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo-package","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo-package","text":"implementation estimators Kendall's tau survival data: Oakes (1982)'s non-parametric estimator doi:10.1111/j.2517-6161.1982.tb01222.x , Lakhal et al. (2009)'s inverse probability weighting (IPCW) estimators doi:10.2202/1557-4679.1121 , Okui et al. (2025)'s modified IPCW estimator doi:10.1093/bjs/znaf131 , theses extensions stratified estimators.","code":""},{"path":[]},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo-package","text":"Kengo Nagashima Jun Okui","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"function can estimate Kendall's \\(\\tau\\) follows: Oakes (1982)'s non-parametric estimator \\(\\hat{\\tau}_o\\), Lakhal et al. (2009)'s inverse probability weighting (IPCW) estimators \\(\\hat{\\tau}_{mo1}\\) \\(\\hat{\\tau}_{mo2}\\), Okui et al. (2025)'s modified IPCW estimator \\(\\hat{\\tau}_{}\\). \\(\\hat{\\tau}_{}\\) can take account tie data. Confidence intervals based jackknife standard errors normal approximation. Moreover, theses extensions stratified estimators, \\(\\hat{\\tau}_o^S\\), \\(\\hat{\\tau}_{mo1}^S\\), \\(\\hat{\\tau}_{mo1}^S\\), \\(\\hat{\\tau}_{}^S\\), also available. Stratified estimators based (random-effects) meta-analysis models.","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"","code":"surrosurvo(   y,   event,   x,   eventx = NULL,   censtype = c(\"univariate\", \"independent\"),   strata = NULL,   level = 0.95,   B = 25000,   parallel = FALSE,   seed = NULL )"},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"y survival time censoring time outcome vector event event indicator outcome vector x ordinal, continuous, survival outcome vector eventx event indicator outcome vector censtype type censoring model survival survival   outcomes (default = \"univariate\"; see Lakhal et al. (2009)). univariate: univariate censoring model:   \\(Y = \\min(T, C)\\), \\(X = \\min(T_X, C)\\) independent: independent censoring model:   \\(Y = \\min(T, C)\\), \\(X = \\min(T_X, C_X)\\) strata stratified variable vector level confidence level confidence interval (default = 0.95) B number bootstrap samples parallel number threads used parallel computing, FALSE means single threading (default = FALSE) seed set value random seed","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"method: names estimators \\(\\hat{\\tau}\\) tau: estimates \\(\\hat{\\tau}\\) se: standard errors \\(\\hat{\\tau}\\) lcl: lower confidence limits \\(\\hat{\\tau}_l\\) ucl: uper confidence limits \\(\\hat{\\tau}_u\\)","code":""},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"Oakes, D. (1982). model association bivariate survival data. J R Stat Soc Ser B Methodol. 44(3): 414-422. https://doi.org/10.1111/j.2517-6161.1982.tb01222.x Lakhal, L, Rivest, L-P., Beaudoin, D. (2009). IPCW estimator Kendall's tau bivariate censoring. Int J Biostat. 5(1): Article 8. https://doi.org/10.2202/1557-4679.1121 Okui, J., Nagashima, K., Matsuda, S., et al (2025). Evaluation pathological complete response surrogate endpoint overall survival resectable esophageal cancer. Br J Surg. 112(6)): znaf131. https://doi.org/10.1093/bjs/znaf131","code":""},{"path":[]},{"path":"https://nshi-stat.github.io/surrosurvo/reference/surrosurvo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluation of Individual-Level Surrogacy for Survival and Ordinal, Continuous, or Survival Endpoints in Data with Ties — surrosurvo","text":"","code":"library(surrosurvo) set.seed(1234) data <- generate_rv(0.7, 300, 0.3) surrosurvo(data$y, data$event, data$x) #>   method       tau         se       lcl       ucl #> 1 taumo1 0.6705591 0.02860693 0.6144905 0.7266276 #> 2 taumo2 0.6719080 0.01936183 0.6339595 0.7098565 #> 3   tauo 0.5268004 0.02155815 0.4845472 0.5690537 #> 4  tauso 0.7563231 0.03076103 0.6960326 0.8166137  # Parallel computation surrosurvo(data$y, data$event, data$x, parallel = 2) #>   method       tau         se       lcl       ucl #> 1 taumo1 0.6705591 0.02860693 0.6144905 0.7266276 #> 2 taumo2 0.6719080 0.01936183 0.6339595 0.7098565 #> 3   tauo 0.5268004 0.02155815 0.4845472 0.5690537 #> 4  tauso 0.7563231 0.03076103 0.6960326 0.8166137"}]
